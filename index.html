<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mirror NFT</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: sans-serif;
    }
    .stage {
      position: relative;
      width: 80%;
      max-width: 600px;
      aspect-ratio: 3/4;
      border-radius: 50% / 50%;
      overflow: hidden;
      background: #000;
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
    }
    video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: scaleX(-1); /* Effetto specchio */
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
    }
    .frame {
      position: absolute;
      inset: 0;
      border: 5px solid red;
      border-radius: 50% / 50%;
      pointer-events: none;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 15px;
      z-index: 2;
    }
    .frame-text {
      color: red;
      font-size: 2rem;
      font-weight: bold;
      letter-spacing: 1px;
      text-shadow: 0 0 8px rgba(0, 0, 0, 0.7);
      z-index: 3;
    }
    .subtitle-text {
      display: block;
      font-size: 1rem;
      color: red;
      text-align: center;
      margin-top: 5px;
      font-weight: normal;
      text-shadow: 0 0 6px rgba(0, 0, 0, 0.7);
      z-index: 3;
    }
  </style>
</head>
<body>
  <div class="stage">
    <video id="video" autoplay playsinline></video>
    <div class="frame">
      <span class="frame-text">LOOK WITHIN</span>
      <span class="subtitle-text">Subtitles and revision by QTSS</span>
    </div>
  </div>
  <script>
    // Funzione per accedere alla videocamera con controlli robusti
    function startCamera() {
      const video = document.getElementById('video');
      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
        alert('La tua fotocamera non Ã¨ supportata da questo browser.');
        return;
      }

      navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
          video.srcObject = stream;
          console.log('Camera stream started successfully!');
        })
        .catch(err => {
          console.error('Errore accesso fotocamera:', err);
          if (err.name === 'NotAllowedError') {
            alert('Permessi negati. Concedi l\'accesso alla fotocamera nelle impostazioni del browser.');
          } else if (err.name === 'NotFoundError') {
            alert('Nessuna fotocamera rilevata. Prova un altro dispositivo.');
          } else {
            alert('Errore: ' + err.message);
          }
        });
    }

    // Avvia la fotocamera all'avvio della pagina
    window.addEventListener('load', startCamera);
  </script>
</body>
</html>
